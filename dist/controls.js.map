{"version":3,"sources":["webpack:///webpack/bootstrap c7acb2fe0b0c432ff349","webpack:///./src/entries/dist.js","webpack:///./src/scripts/controls.js","webpack:///./src/scripts/utils/elements.js","webpack:///./src/scripts/utils/functional.js","webpack:///./src/scripts/utils/events.js","webpack:///./src/scripts/ui/keyboard.js","webpack:///./src/scripts/ui/mouse.js","webpack:///./src/scripts/aria/drag.js","webpack:///./src/scripts/aria/drop.js","webpack:///./src/scripts/aria/selected.js"],"names":["H5P","Controls","require","default","UIKeyboard","UIMouse","AriaDrag","AriaDrop","AriaSelected","removeTabIndex","removeTabIndexForAll","setTabIndexZero","hasTabIndex","plugins","elements","on","nextElement","previousElement","initPlugins","el","push","firesEvent","length","setTabbable","type","index","indexOf","fire","element","oldElement","tabbableElement","isLastElement","nextEl","focus","isFirstElement","prevEl","forEach","plugin","init","undefined","getAttribute","name","setAttribute","value","removeAttribute","hasAttribute","attributeEquals","curry","fn","arity","f1","args","Array","prototype","slice","call","arguments","apply","f2","args2","concat","compose","fns","reduce","f","g","arr","map","filter","some","contains","without","values","Events","listeners","listener","scope","trigger","event","triggers","every","Keyboard","selectability","controls","boundHandleKeyDown","handleKeyDown","bind","listenForKeyDown","removeKeyDownListener","addEventListener","removeEventListener","which","select","target","preventDefault","Mouse","handleClick","handleDrag","currentTarget","ATTRIBUTE_ARIA_GRABBED","setGrabbed","isGrabbed","filterHasAttributeGrabbed","setAllGrabbedToFalse","hasGrabbed","Drag","addElement","console","log","alreadyGrabbed","ATTRIBUTE_ARIA_DROPEFFECT","setDropEffectNone","setDropEffectMove","filterHasAttributeDropEffect","setAllDropEffectsToMove","setAllDropEffectsToNone","Drop","DropEffect","COPY","MOVE","EXECUTE","POPUP","NONE","Choice","removeAriaSelected","addAriaSelected"],"mappings":"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","file":"controls.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap c7acb2fe0b0c432ff349","// Load library\nH5P.Controls = require('../scripts/controls').default;\nH5P.Controls.UIKeyboard = require('../scripts/ui/keyboard').default;\nH5P.Controls.UIMouse = require('../scripts/ui/mouse').default;\nH5P.Controls.AriaDrag = require('../scripts/aria/drag').default;\nH5P.Controls.AriaDrop = require('../scripts/aria/drop').default;\nH5P.Controls.AriaSelected = require('../scripts/aria/selected').default;\n\n\n// WEBPACK FOOTER //\n// ./src/entries/dist.js","import {setAttribute, removeAttribute, hasAttribute} from './utils/elements';\nimport {forEach, without} from './utils/functional';\nimport Events from './utils/events';\n\n/**\n * Controls Event\n * @typedef {Object} ControlsEvent\n * @property {HTMLElement} element\n * @property {number} index\n * @property {HTMLElement[]} elements\n * @property {HTMLElement} oldElement\n */\n/**\n * Add element event\n * @event Controls#addElement\n * @type ControlsEvent\n */\n/**\n * Remove element event\n * @event Controls#removeElement\n * @type ControlsEvent\n */\n/**\n * Previous element event\n * @event Controls#previousElement\n * @type ControlsEvent\n */\n/**\n * Next element event\n * @event Controls#nextElement\n * @type ControlsEvent\n */\n/**\n * Select option event\n * @event Controls#select\n * @type ControlsEvent\n */\n/**\n * Drag element event\n * @event Controls#drag\n * @type ControlsEvent\n */\n\n/**\n * @type {function} removeTabIndex\n */\nconst removeTabIndex = removeAttribute('tabindex');\n/**\n * @type {function} removeTabIndexForAll\n */\nconst removeTabIndexForAll = forEach(removeTabIndex);\n/**\n * @type {function} setTabIndexZero\n */\nconst setTabIndexZero = setAttribute('tabindex', '0');\n/**\n * @type {function} hasTabIndex\n */\nconst hasTabIndex = hasAttribute('tabindex');\n\n/**\n * @class\n */\nexport default class Controls extends Events {\n  constructor(plugins) {\n    super();\n\n    /**\n     *@property {HTMLElement} tabbableElement\n     */\n    /**\n     * @property {object[]} plugins\n     */\n    this.plugins = plugins || [];\n\n    /**\n     * @property {HTMLElement[]} elements\n     */\n    this.elements = [];\n\n    // move tabindex to next element\n    this.on('nextElement', this.nextElement, this);\n\n    // move tabindex to previous element\n    this.on('previousElement', this.previousElement, this);\n\n    // init plugins\n    this.initPlugins();\n  }\n\n  /**\n   * Add controls to an element\n   *\n   * @param {HTMLElement} el\n   *\n   * @fires Controls#addElement\n   * @public\n   */\n  addElement(el) {\n    this.elements.push(el);\n\n    this.firesEvent('addElement', el);\n\n    if (this.elements.length === 1) { // if first\n      this.setTabbable(el);\n    }\n  };\n\n  /**\n   * Add controls to an element\n   *\n   * @param {HTMLElement} el\n   *\n   * @fires Controls#addElement\n   * @public\n   */\n  removeElement(el) {\n    this.elements = without([el], this.elements);\n\n    // if removed element was selected\n    if(hasTabIndex(el)) {\n      removeTabIndex(el);\n\n      // set first element selected if exists\n      if(this.elements[0]) {\n        this.setTabbable(this.elements[0]);\n      }\n    }\n\n    this.firesEvent('removeElement', el);\n  };\n\n  /**\n   * Fire event\n   *\n   * @param {string} type\n   * @param {HTMLElement|EventTarget} el\n   *\n   * @public\n   */\n  firesEvent(type, el) {\n    const index = this.elements.indexOf(el);\n\n    this.fire(type, {\n      element: el,\n      index: index,\n      elements: this.elements,\n      oldElement: this.tabbableElement\n    });\n  }\n\n  /**\n   * Sets tabindex on an element, remove it from all others\n   *\n   * @param {number} index\n   *\n   * @private\n   */\n  nextElement({index}) {\n    const isLastElement = index === (this.elements.length - 1);\n    const nextEl = this.elements[isLastElement ? 0 : (index + 1)];\n\n    this.setTabbable(nextEl);\n    nextEl.focus();\n  }\n\n  /**\n   * Sets tabindex on an element, remove it from all others\n   *\n   * @param {HTMLElement} el\n   * @public\n   */\n  setTabbable(el) {\n    removeTabIndexForAll(this.elements);\n    setTabIndexZero(el);\n    this.tabbableElement = el;\n  }\n\n  /**\n   * Sets tabindex on an element, remove it from all others\n   *\n   * @param {number} index\n   *\n   * @private\n   */\n  previousElement({index}) {\n    const isFirstElement = index === 0;\n    const prevEl = this.elements[isFirstElement ? (this.elements.length - 1) : (index - 1)];\n\n    this.setTabbable(prevEl);\n    prevEl.focus();\n  }\n\n  /**\n   * Initializes the plugins\n   *\n   * @private\n   */\n  initPlugins() {\n    this.plugins.forEach(function(plugin){\n      if(plugin.init !== undefined){\n        plugin.init(this);\n      }\n    }, this);\n  }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/scripts/controls.js","import {curry} from './functional'\n\n/**\n * Get an attribute value from element\n *\n * @param {string} name\n * @param {HTMLElement} el\n *\n * @function\n * @return {string}\n */\nexport const getAttribute = curry(function (name, el) {\n  return el.getAttribute(name);\n});\n\n/**\n * Set an attribute on a html element\n *\n * @param {string} name\n * @param {string} value\n * @param {HTMLElement} el\n *\n * @function\n */\nexport const setAttribute = curry(function (name, value, el) {\n  el.setAttribute(name, value);\n});\n\n/**\n * Remove attribute from html element\n *\n * @param {string} name\n * @param {HTMLElement} el\n *\n * @function\n */\nexport const removeAttribute = curry(function (name, el) {\n  el.removeAttribute(name);\n});\n\n/**\n * Check if element has an attribute\n *\n * @param {string} name\n * @param {HTMLElement} el\n *\n * @function\n * @return {boolean}\n */\nexport const hasAttribute = curry(function (name, el) {\n  return el.hasAttribute(name);\n});\n\n/**\n * Check if element has an attribute that equals\n *\n * @param {string} name\n * @param {string} value\n * @param {HTMLElement} el\n *\n * @function\n * @return {boolean}\n */\nexport const attributeEquals = curry(function (name, value, el) {\n  return el.getAttribute(name) === value;\n});\n\n\n// WEBPACK FOOTER //\n// ./src/scripts/utils/elements.js","/**\n * Returns a curried version of a function\n *\n * @param {function} fn\n *\n * @public\n *\n * @return {function}\n */\nexport const curry = function(fn) {\n  const arity = fn.length;\n\n  return function f1() {\n    const args = Array.prototype.slice.call(arguments, 0);\n    if (args.length >= arity) {\n      return fn.apply(null, args);\n    }\n    else {\n      return function f2() {\n        const args2 = Array.prototype.slice.call(arguments, 0);\n        return f1.apply(null, args.concat(args2));\n      }\n    }\n  };\n};\n\n/**\n * Compose functions together, executing from right to left\n *\n * @param {function...} fns\n *\n * @function\n * @public\n *\n * @return {function}\n */\nexport const compose = (...fns) => fns.reduce((f, g) => (...args) => f(g(...args)));\n\n/**\n * Applies a function to each element in an array\n *\n * @param {function} fn\n * @param {Array} arr\n *\n * @function\n * @public\n *\n * @return {function}\n */\nexport const forEach = curry(function (fn, arr) {\n  arr.forEach(fn);\n});\n\n/**\n * Maps a function to an array\n *\n * @param {function} fn\n * @param {Array} arr\n *\n * @function\n * @public\n *\n * @return {function}\n */\nexport const map = curry(function (fn, arr) {\n  return arr.map(fn);\n});\n\n/**\n * Applies a filter to an array\n *\n * @param {function} fn\n * @param {Array} arr\n *\n * @function\n * @public\n *\n * @return {function}\n */\nexport const filter = curry(function (fn, arr) {\n  return arr.filter(fn);\n});\n\n/**\n * Applies a some to an array\n *\n * @param {function} fn\n * @param {Array} arr\n *\n * @function\n * @public\n *\n * @return {function}\n */\nexport const some = curry(function (fn, arr) {\n  return arr.some(fn);\n});\n\n/**\n * Returns true if an array contains a value\n *\n * @param {*} value\n * @param {Array} arr\n *\n * @function\n * @public\n *\n * @return {function}\n */\nexport const contains = curry(function (value, arr) {\n  return arr.indexOf(value) != -1;\n});\n\n/**\n * Returns an array without the supplied values\n *\n * @param {Array} values\n * @param {Array} arr\n *\n * @function\n * @public\n *\n * @return {function}\n */\nexport const without = curry(function (values, arr) {\n  return filter(value => !contains(value, values), arr)\n});\n\n\n// WEBPACK FOOTER //\n// ./src/scripts/utils/functional.js","export default class Events {\n  constructor() {\n    /**\n     * @type {object}\n     * @private\n     */\n    this.listeners = {};\n  }\n\n  /**\n   * Listen to event\n   *\n   * @param {string} type\n   * @param {function} listener\n   * @param {object} [scope]\n   */\n  on(type, listener, scope) {\n    /**\n     * @typedef {object} Trigger\n     * @property {function} listener\n     * @property {object} scope\n     */\n    const trigger = {\n      'listener': listener,\n      'scope': scope\n    };\n\n    this.listeners[type] = this.listeners[type] || [];\n    this.listeners[type].push(trigger);\n  }\n\n  /**\n   * Fire event. If any of the listeners returns false, return false\n   *\n   * @param {string} type\n   * @param {object} event\n   *\n   * @return {boolean}\n   */\n  fire(type, event) {\n    const triggers = this.listeners[type] || [];\n\n    return triggers.every(function(trigger) {\n      return trigger.listener.call(trigger.scope || this, event) !== false;\n    });\n  }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/scripts/utils/events.js","/**\n * @class\n * @classdesc Keyboard navigation for accessibility support\n */\nexport default class Keyboard {\n  constructor() {\n    /**\n     * @property {boolean} selectability\n     */\n    this.selectability = true;\n  }\n\n  /**\n   * Inits this class\n   *\n   * @param {Controls} controls\n   */\n  init(controls) {\n    /**\n     * Need to have a common binding of handleKeyDown, so that it can be a\n     * common instance to be used for addEventListener and removeEventListener\n     * @type {function}\n     */\n    this.boundHandleKeyDown = this.handleKeyDown.bind(this);\n\n    /**\n     * @type {Controls}\n     */\n    this.controls = controls;\n    this.controls.on('addElement', this.listenForKeyDown, this);\n    this.controls.on('removeElement', this.removeKeyDownListener, this);\n  };\n\n  /**\n   * Listens for a keyboard press when element is focused\n   *\n   * @param {HTMLElement} element\n   * @private\n   */\n  listenForKeyDown({element}) {\n    element.addEventListener('keydown', this.boundHandleKeyDown);\n  };\n\n  /**\n   * Remove a keyboard press listener\n   *\n   * @param {HTMLElement} element\n   * @private\n   */\n  removeKeyDownListener({element}) {\n    element.removeEventListener('keydown', this.boundHandleKeyDown);\n  };\n\n  /**\n   * Handles key down\n   *\n   * @param {KeyboardEvent} event Keyboard event\n   * @private\n   */\n  handleKeyDown(event) {\n    switch (event.which) {\n      case 13: // Enter\n      case 32: // Space\n        this.select(event.target);\n        event.preventDefault();\n        break;\n\n      case 37: // Left Arrow\n      case 38: // Up Arrow\n        this.previousElement(event.target);\n        event.preventDefault();\n        break;\n      case 39: // Right Arrow\n      case 40: // Down Arrow\n        this.nextElement(event.target);\n        event.preventDefault();\n        break;\n    }\n  };\n\n  /**\n   * Fires the previous element event\n   *\n   * @param {HTMLElement|EventTarget} el\n   * @fires Controls#previousElement\n   */\n  previousElement(el) {\n    this.controls.firesEvent('previousElement', el)\n  };\n\n  /**\n   * Fire the next element event\n   *\n   * @param {HTMLElement|EventTarget} el\n   * @fires Controls#nextElement\n   */\n  nextElement(el) {\n    this.controls.firesEvent('nextElement', el)\n  };\n\n  /**\n   * Fires the select event\n   *\n   * @param {EventTarget|HTMLElement} el\n   * @fires Controls#select\n   */\n  select(el){\n    if(this.selectability) {\n      if(this.controls.firesEvent('before-select', el) !== false) {\n        this.controls.firesEvent('select', el);\n        this.controls.firesEvent('after-select', el)\n      }\n    }\n  };\n\n  /**\n   * Disable possibility to select a word trough click and space or enter\n   *\n   * @public\n   */\n  disableSelectability() {\n    this.selectability = false;\n  };\n\n  /**\n   * Enable possibility to select a word trough click and space or enter\n   *\n   * @public\n   */\n  enableSelectability() {\n    this.selectability = true;\n  }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/scripts/ui/keyboard.js","/**\n * @class\n * @classdesc Keyboard navigation for accessibility support\n */\nexport default class Mouse {\n  constructor() {\n    /**\n     * @property {boolean} selectability\n     */\n    this.selectability = true;\n  }\n\n  /**\n   * Inits this class\n   *\n   * @param {Controls} controls\n   */\n  init(controls) {\n    /**\n     * @type {Controls}\n     */\n    this.controls = controls;\n    this.controls.on('addElement', this.listenForKeyDown, this);\n  };\n\n  /**\n   * Listens for a keyboard press when element is focused\n   *\n   * @param {HTMLElement} element\n   * @private\n   */\n  listenForKeyDown({element}) {\n    element.addEventListener('click', this.handleClick.bind(this));\n    element.addEventListener('drag', this.handleDrag.bind(this));\n  };\n\n  /**\n   * Handles mouseClick\n   *\n   * @param {MouseEvent} event Keyboard event\n   * @private\n   */\n  handleClick(event) {\n    this.controls.firesEvent('select', event.currentTarget);\n  };\n\n  /**\n   * Handles key down\n   *\n   * @param {MouseEvent} event Keyboard event\n   * @private\n   */\n  handleDrag(event) {\n    this.controls.firesEvent('drag', event.currentTarget);\n  };\n\n  /**\n   * Disable possibility to select a word trough click and space or enter\n   *\n   * @public\n   */\n  disableSelectability() {\n    this.selectability = false;\n  };\n\n  /**\n   * Enable possibility to select a word trough click and space or enter\n   *\n   * @public\n   */\n  enableSelectability() {\n    this.selectability = true;\n  }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/scripts/ui/mouse.js","import {attributeEquals, hasAttribute, setAttribute} from '../utils/elements';\nimport {compose, forEach, filter, some, curry} from '../utils/functional';\n\n/**\n * @type {string}\n * @readonly\n */\nconst ATTRIBUTE_ARIA_GRABBED = 'aria-grabbed';\n\n/**\n * @type {function} setGrabbedTrue\n * @param {HTMLElement} element\n */\nconst setGrabbed = setAttribute(ATTRIBUTE_ARIA_GRABBED);\n\n/**\n * @type {function} isGrabbed\n * @param {HTMLElement} element\n */\nconst isGrabbed = attributeEquals(ATTRIBUTE_ARIA_GRABBED, 'true');\n\n/**\n * @type {function} filterHasAttributeDropEffect\n */\nconst filterHasAttributeGrabbed = filter(hasAttribute(ATTRIBUTE_ARIA_GRABBED));\n\n/**\n * Sets all aria-grabbed to 'false'\n * @param {HTMLElement[]} elements\n * @type {function} setAllGrabbedToFalse\n */\nconst setAllGrabbedToFalse = compose(forEach(setAttribute(ATTRIBUTE_ARIA_GRABBED, 'false')), filterHasAttributeGrabbed);\n\n/**\n * @type {function} hasGrabbed\n * @param {HTMLElement[]} elements\n */\nconst hasGrabbed = compose(some(isGrabbed), filterHasAttributeGrabbed);\n\n/**\n * @class\n */\nexport default class Drag {\n  /**\n   * Inits this class\n   *\n   * @param {Controls} controls\n   */\n  init(controls) {\n    /**\n     * @type {Controls}\n     */\n    this.controls = controls;\n\n    // handle select event\n    this.controls.on('select', this.select, this);\n  };\n\n  /**\n   * Marks element as aria-grabbed = 'false' and adds to controller\n   *\n   * @param element\n   */\n  addElement(element) {\n    setGrabbed('false', element);\n    this.controls.addElement(element);\n  }\n\n  /**\n   * Sets aria-grabbed to 'false' for all elements that has it\n   */\n  setAllGrabbedToFalse() {\n    setAllGrabbedToFalse(this.controls.elements);\n  }\n\n  /**\n   * Returns true if any of the elements are grabbed\n   *\n   * @return {boolean}\n   */\n  hasAnyGrabbed() {\n    return hasGrabbed(this.controls.elements)\n  }\n\n  /**\n   * Un selects all, but selects new element if not already selected\n   *\n   * @param {HTMLElement} element\n   */\n  select({element}) {\n    console.log('Drag on select');\n    const alreadyGrabbed = isGrabbed(element);\n\n    this.setAllGrabbedToFalse();\n\n    if(!alreadyGrabbed) {\n      setGrabbed('true', element);\n    }\n  }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/scripts/aria/drag.js","import {setAttribute, hasAttribute} from '../utils/elements';\nimport {compose, forEach, filter} from '../utils/functional';\n\n/**\n * @type {string}\n * @readonly\n */\nconst ATTRIBUTE_ARIA_DROPEFFECT = 'aria-dropeffect';\n\n/**\n * @type {function} setDropEffectNone\n */\nconst setDropEffectNone = setAttribute(ATTRIBUTE_ARIA_DROPEFFECT, 'none');\n\n/**\n * @type {function} setDropEffectNone\n */\nconst setDropEffectMove = setAttribute(ATTRIBUTE_ARIA_DROPEFFECT, 'move');\n\n/**\n * @type {function} filterHasAttributeDropEffect\n */\nconst filterHasAttributeDropEffect = filter(hasAttribute(ATTRIBUTE_ARIA_DROPEFFECT));\n\n/**\n * Sets all drop zones to move\n * @param {HTMLElement[]} elements\n * @type {function} setDropZoneEffectsToMove\n */\nconst setAllDropEffectsToMove = compose(forEach(setDropEffectMove), filterHasAttributeDropEffect);\n\n/**\n * Sets all drop zones to none\n * @param {HTMLElement[]} elements\n * @type {function} setAllDropEffectsToNone\n */\nconst setAllDropEffectsToNone = compose(forEach(setDropEffectNone), filterHasAttributeDropEffect);\n\n/**\n * Class for handling Drop Zones\n *\n * @class\n */\nexport default class Drop {\n  /**\n   * Inits this class\n   * @param {Controls} controls\n   */\n  init(controls) {\n    /**\n     * @type {Controls}\n     */\n    this.controls = controls;\n  };\n\n  /**\n   * On elements with aria-dropeffect, set aria-dropeffect to 'move'\n   * @public\n   */\n  setAllToMove() {\n    setAllDropEffectsToMove(this.controls.elements);\n  }\n\n  /**\n   * On elements with aria-dropeffect, set aria-dropeffect to 'none'\n   * @public\n   */\n  setAllToNone() {\n    setAllDropEffectsToNone(this.controls.elements);\n  }\n}\n\n/**\n * Enum for ARIA drop effects\n * @readonly\n * @enum {string}\n */\nDrop.DropEffect = {\n  COPY: 'copy',\n  MOVE: 'move',\n  EXECUTE: 'execute',\n  POPUP: 'popup',\n  NONE: 'none'\n};\n\n\n// WEBPACK FOOTER //\n// ./src/scripts/aria/drop.js","import {setAttribute, removeAttribute, attributeEquals} from '../utils/elements';\n\nexport default class Choice {\n  constructor(){\n    /**\n     * @type {function}\n     * @param {HTMLElement} el\n     */\n    this.removeAriaSelected = removeAttribute('aria-selected');\n    /**\n     * @type {function}\n     * @param {HTMLElement} el\n     */\n    this.addAriaSelected = setAttribute('aria-selected', 'true');\n  }\n\n  /**\n   * Inits this class\n   *\n   * @param {Controls} controls\n   */\n  init(controls) {\n    /**\n     * @type {Controls}\n     */\n    this.controls = controls;\n    this.controls.on('select', this.select, this);\n  };\n\n  /**\n   * Toggles aria-selected on element\n   *\n   * @param {HTMLElement} element\n   * @param {HTMLElement} element\n   */\n  select({element, oldElement}) {\n    if (element === oldElement) {\n      this.removeAriaSelected(element);\n    }\n    else {\n      this.addAriaSelected(element);\n    }\n  }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/scripts/aria/selected.js"],"sourceRoot":""}